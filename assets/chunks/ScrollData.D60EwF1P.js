import{c as x,i as u}from"./index.D4Ecvuve.js";import{_ as v,p as l,v as _,P as w,o as b,c as C,j as t}from"./framework.DHS89c-t.js";const D={class:"charts-container"},N={class:"chart-item"},P={class:"chart-item"},k={__name:"ScrollData",setup(O){const a=l([]),d=l(null),c=l(null);return _(async()=>{try{const r=await(await fetch("/web-grid-benchmark/results/02_scroll.json?"+Date.now())).json();a.value=r.map(e=>({name:e.name,cpuTime:Number(Number(e.totalCPUTime).toFixed(2)),duration:Number(Number(e.duration).toFixed(2)),fps:Number(Number(e.fps).toFixed())}));const p={columnDefs:[{field:"name",headerName:"表格组件",sortable:!0,filter:!0,width:150},{field:"cpuTime",headerName:"CPU耗时(ms)",width:150,type:"numericColumn"},{field:"duration",headerName:"总耗时(ms)",width:150,type:"numericColumn"},{field:"fps",headerName:"帧率(FPS)",width:150,type:"numericColumn"}],defaultColDef:{sortable:!0,resizable:!0},animateRows:!0};await w();const m=document.querySelector("#scrollDataGrid");m&&x(m,p).setGridOption("rowData",a.value);const h=u(d.value),f=u(c.value),i=a.value.map(e=>e.name),g={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:i,type:"scroll"},grid:{right:"5%"},xAxis:{type:"category",data:["CPU耗时","总耗时"],axisLabel:{interval:0}},yAxis:{type:"value",name:"耗时(ms)"},series:i.map(e=>{const s=a.value.find(n=>n.name===e);return{name:e,type:"bar",data:[s.cpuTime,s.duration]}})},y={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:i,type:"scroll"},grid:{right:"5%"},xAxis:{type:"category",data:["帧率"],axisLabel:{interval:0}},yAxis:{type:"value",name:"FPS",min:0,max:60,interval:10},series:i.map(e=>{const s=a.value.find(n=>n.name===e);return{name:e,type:"bar",data:[s.fps]}})};h.setOption(g),f.setOption(y)}catch(o){console.error("Error loading or processing data:",o)}}),(o,r)=>(b(),C("div",null,[r[0]||(r[0]=t("div",{class:"ag-theme-quartz",id:"scrollDataGrid",style:{height:"200px",width:"100%"}},null,-1)),t("div",D,[t("div",N,[t("div",{ref_key:"timeChartRef",ref:d,style:{width:"100%",height:"400px"}},null,512)]),t("div",P,[t("div",{ref_key:"fpsChartRef",ref:c,style:{width:"100%",height:"400px"}},null,512)])])]))}},T=v(k,[["__scopeId","data-v-e927d2bd"]]);export{T as default};
